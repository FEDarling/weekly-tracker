(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{756:function(e,t,r){"use strict";r.r(t);var v=r(10),_=Object(v.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[r("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/daodaolee/photobed@main/img/20220112171045.png",alt:""}})]),e._v(" "),r("h2",{attrs:{id:"前言"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),r("p",[e._v("如果你对 "),r("strong",[e._v("WebRTC")]),e._v(" 这个概念有疑惑，你大可能会去谷歌上查相关资料，然后你会看到类似这样的句子：")]),e._v(" "),r("blockquote",[r("p",[e._v("WebRTC 是一个开源项目，允许您向应用程序添加点对点实时通信功能。")])]),e._v(" "),r("p",[e._v("我们来分析一下这句话都告诉了我们什么：")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("开源项目")]),e._v(" "),r("p",[e._v("顾名思义，它是一个可以免费使用的开源项目。")])]),e._v(" "),r("li",[r("p",[e._v("点对点")]),e._v(" "),r("p",[e._v("你不需要专门为 WebRTC 而去准备一个昂贵的媒体服务器。一般的媒体服务器，视频通话可能需要 1 Mbit/s 的带宽。如果你有一个 1000 活跃用户的平台，你需要准备 1Gbit/s 的带宽，那如果你有 100 万用户怎么办？")])]),e._v(" "),r("li",[r("p",[e._v("实时通讯")]),e._v(" "),r("p",[e._v("一般我们听到实时通讯这个概念的时候，普通人都会想到音频-视频通话，而实时通讯则是一个更为广泛的概念。")]),e._v(" "),r("blockquote",[r("p",[e._v("您可以使用 WebRTC 传输实时数据。")])]),e._v(" "),r("p",[e._v("比如一款名叫 "),r("a",{attrs:{href:"https://www.haxball.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Haxball"),r("OutboundLink")],1),e._v(" 的在线游戏，也可以使用 WebRTC 功能来完成。又比如"),r("a",{attrs:{href:"https://www.sharedrop.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("ShareDrop"),r("OutboundLink")],1),e._v(" 是一个允许您点对点发送文件的网站。您可以将文件发送到本地网络，甚至可以点对点地发送到不同的网络。")])]),e._v(" "),r("li",[r("p",[e._v("应用程序")]),e._v(" "),r("p",[e._v("WebRTC 最初发布时，它的目标是运行在 Chrome 上的 Web 应用程序。但是今天，你可以在几乎所有流行的浏览器、Android、iOS 和桌面平台上开发 WebRTC 应用程序。")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/daodaolee/photobed@main/img/20220112172211.png",alt:""}})]),e._v(" "),r("p",[e._v("Chrome、Firefox、Safari、Edge 和 Opera 等流行浏览器在桌面和移动浏览器上都支持 WebRTC。 WebRTC 还允许应用程序开发人员使用原生框架进行 iOS 和 Android 原生开发。")])])]),e._v(" "),r("h2",{attrs:{id:"哪些产品使用了-webrtc"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#哪些产品使用了-webrtc"}},[e._v("#")]),e._v(" 哪些产品使用了 WebRTC？")]),e._v(" "),r("p",[e._v("WebRTC 目前成为了视频和音频通话的网络通信标准。大多数流行的视频通话应用程序已经在使用它了，就像:")]),e._v(" "),r("ul",[r("li",[e._v("Zoom")]),e._v(" "),r("li",[e._v("Microsoft Teams")]),e._v(" "),r("li",[e._v("Google Meet & Google Duo")]),e._v(" "),r("li",[e._v("Facebook Messenger")]),e._v(" "),r("li",[e._v("Jitsi")]),e._v(" "),r("li",[e._v("Twilio")]),e._v(" "),r("li",[e._v("Discord")])]),e._v(" "),r("p",[e._v("根据 2017 年的 Kranky Geek 活动，谷歌在"),r("a",{attrs:{href:"https://youtu.be/PEXnbTyygi4?t=104",target:"_blank",rel:"noopener noreferrer"}},[e._v("活动"),r("OutboundLink")],1),e._v("上分享了一个统计数据：")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/daodaolee/photobed@main/img/20220112172607.png",alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("注意！这个统计数据是 4 年前的，也就是说在其开始流行之前，视频和音频通话的使用量猛增。如果某一天内的 WebRTC 使用量超过数十亿分钟，也不用觉得惊讶。")])]),e._v(" "),r("h2",{attrs:{id:"webrtc-有什么优势"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#webrtc-有什么优势"}},[e._v("#")]),e._v(" WebRTC 有什么优势？")]),e._v(" "),r("p",[e._v("那为什么这这么多平台会使用 WebRTC 呢？它又能带来什么好处？")]),e._v(" "),r("p",[e._v("如果是之前的情况，你在创建实时通讯的应用程序或平台的时候，需要考虑很多因素，比如：")]),e._v(" "),r("ul",[r("li",[e._v("通讯的质量（延迟、媒体质量、稳定性等）")]),e._v(" "),r("li",[e._v("访问设备硬件（相机、麦克风等）")]),e._v(" "),r("li",[e._v("网络使用（带宽使用、网络限制等）")]),e._v(" "),r("li",[e._v("视频和音频的编码/解码")]),e._v(" "),r("li",[e._v("安全性")]),e._v(" "),r("li",[e._v("UX 改进功能（降噪、回声消除等）")]),e._v(" "),r("li",[e._v("支持跨平台（Windows、Mac、Linux、Android、iOS 等）")])]),e._v(" "),r("p",[e._v("这些是我目前能想到的，可能还有更多。")]),e._v(" "),r("p",[r("strong",[e._v("如果使用 WebRTC 的话， 你不需要考虑上面这些！WebRTC 可以使应用程序开发人员能够使用简单的 API 启动实时通讯能力。")])]),e._v(" "),r("p",[e._v("提供的 API 就像 "),r("code",[e._v("getUserMedia()")]),e._v(" 一样简单。不仅如此，应用程序还可以使用此 API 访问设备的摄像头和麦克风。对于其他重要的 API，会在接下来的文章中详细介绍。")]),e._v(" "),r("h2",{attrs:{id:"应用程序的职责是什么"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#应用程序的职责是什么"}},[e._v("#")]),e._v(" 应用程序的职责是什么？")]),e._v(" "),r("p",[e._v("到这里，你可能会想 “如果 WebRTC 这么厉害，我应该怎么去使用它？”。")]),e._v(" "),r("p",[e._v("信令信道 和 媒体信道 是通讯中的两个不同的概念：")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("当你呼叫你的朋友的时候，你的手机首先会向你朋友的手机发送呼叫请求。然后，如果你的朋友接听电话，它将向您的手机发送接听电话响应。这个过程发生在信令信道上。")])]),e._v(" "),r("li",[r("p",[e._v("在你的设备收到接受响应后，你可以听到你的朋友的声音，这发生在 媒体信道上。 WebRTC 技术遵循了和其他通讯技术一样的方法。")])])]),e._v(" "),r("p",[e._v("下图是 信令信道(Signalling) 和 媒体信道(media) 的示例图：")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/daodaolee/photobed@main/img/20220112174210.gif",alt:""}})]),e._v(" "),r("p",[e._v("WebRTC 负责媒体信道中的数据传输，它会让应用程序去处理信令信道。")]),e._v(" "),r("p",[e._v("再来看一张图，你在 Device-1 上的应用程序会调用 WebRTC 的 API 并向 Device-2 发送请求。然后 Device-2 也应该做同样的事情：")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/daodaolee/photobed@main/img/20220112174815.png",alt:""}})]),e._v(" "),r("p",[e._v("到此为止，我们对 WebRTC 有了一个简单的认识，在后面的文章里，将会详细的介绍 WebRTC 相关内容，敬请期待！")]),e._v(" "),r("hr"),e._v(" "),r("blockquote",[r("ul",[r("li",[e._v("译文出自："),r("a",{attrs:{href:"https://github.com/FEDarling/weekly-tracker",target:"_blank",rel:"noopener noreferrer"}},[e._v("weekly-tracker"),r("OutboundLink")],1),e._v(" 项目，期待你的加入！")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://mobiledevweekly.com/link/117731/web",target:"_blank",rel:"noopener noreferrer"}},[e._v("查看原文"),r("OutboundLink")],1),e._v("对比阅读")]),e._v(" "),r("li",[e._v("发现错误？"),r("a",{attrs:{href:"https://github.com/FEDarling/weekly-tracker/blob/main/weeklys/mobile_dev_weekly/382/webrtc.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("提交 PR"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("译者："),r("a",{attrs:{href:"https://github.com/daodaolee",target:"_blank",rel:"noopener noreferrer"}},[e._v("daodaolee"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("校对者："),r("a",{attrs:{href:"https://github.com/daodaolee",target:"_blank",rel:"noopener noreferrer"}},[e._v("daodaolee"),r("OutboundLink")],1)])])])])}),[],!1,null,null,null);t.default=_.exports}}]);